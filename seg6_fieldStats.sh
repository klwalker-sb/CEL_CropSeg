#!/bin/bash -l

#SBATCH -N 1 # number of nodes
#SBATCH -n 4 # number of cores
#SBATCH -t 0-08:00 # time (D-HH:MM)
#SBATCH -p basic
#SBATCH -o fldTS.%N.%a.%j.out # STDOUT
#SBATCH -e fldTS.%N.%a.%j.err # STDERR
#SBATCH --job-name="fldTS"
#SBATCH --array=9,26,115,186,187,213,214,215,219,355,360,396,517,565,638,737,773,774,806-810,841-845,877,878,880,911-914,944-946,10,11,22,23,80,208,250,278,312,358,359,365,395,411,458,503,504,506,515,537,550,551,553,598,599,604,605,606,615,627,628,629,646,647,648,649,653,654,655,656,657,659,674,675,677,680,683,685,694,695,696,697,698,699,701,702,703,704,705,706,710,713,716,717,718,719,720,721,722,725,726,727,728,729,730,731,732,733,734,735,736,738,739,740,741,742,747,754,755,756,757,758,759,760,761,763,765,766,767,768,769,770,771,772,775,776,777,779,786,787,788,789,790,791,792,793,794,795,796,798,799,801,802,803,804,805,811,812,813,814,818,825,826,827,828,829,830,831,832,834,835,836,837,838,839,840,846,847,848,853,854,857,858,860,861,862,863,864,865,866,867,868,869,870,871,872,873,874,875,876,879,881,882,883,884,892,893,896,897,899,900,901,902,903,904,905,906,907,908,909,910,916,917,918,919,920,924,925,926,930,931,932,933,934,935,936,937,938,939,940,941,942,943,947,948,949,950,951,952,953,957,958,959,964,966,967,968,969,970,971,972,973,974,975,976,977,978,979,980,981,982,983,984,985,986,990,994,995,997,998,999,356,357,684,692,989%10

##[000,001,002,003,004,005,006,007,008,009,010,011,012,013,014,015,016,028,029,030,031,032,033,034,035,036,037,038,039,040,041,042,043,045,046,047,048,049,050,051,052,053,054,055,056,057,058,059,060,061,065,066,067,068,069,070,071,072,073,074,075,076,078,079,084,085,086,087,088,089,090,091,092,097,098,099,100,101,102]%2

####################################
####Set permissions of output files:
umask 002
####################################

grid_num=$(($SLURM_ARRAY_TASK_ID + 3000)) 
grid_dir="/home/downspout-cel/paraguay_lc/stac/grids/"
shape_dir="/home/downspout-cel/paraguay_lc/Segmentations/cnet22_4VIk/infer_polys_EO_8pt5/"
full_out_dir="/home/downspout-cel/paraguay_lc/Segmentations/cnet22_4VIk/feats_EO_8pt5/"
stat="std"
jd_start=2021305
jd_end=2021365


#####

cd ~/
conda activate .segpost
python code/bash/seg_utils/seg6_fieldStats.py $grid_num $grid_dir $shape_dir $full_out_dir $stat $jd_start $jd_end 



